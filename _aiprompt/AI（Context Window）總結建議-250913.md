# AI 上下文視窗管理策略：何時進行「適時總結」的最佳實踐

**文件日期**：2025年9月13日
**核心問題**：AI 的上下文視窗（Context Window）如同其「短期記憶」，容量有限。當對話過長時，AI 會「遺忘」早期的資訊。要求 AI 進行「總結」是刷新其記憶的關鍵策略，但應在何時執行？

---

## 核心原則

判斷「適時總結」的總體原則是：**在上下文即將發生重大變化，或您感覺對話的「焦點」可能開始模糊時，就是總結的最佳時機。**

---

## 一、主動式策略：基於「任務里程碑」的總結

這是最推薦的、融入自然工作流程的主動方法。在任務的關鍵節點上建立「存檔點」(Save Point)。

- **1. 規劃結束，實作開始前**
  - **目的**：鞏固目標，確保接下來的程式碼實作與計畫完全對齊。
  - **指令範例**：「好的，執行計畫已確認。在我們開始寫程式碼之前，請總結一下計畫的要點和目標。」

- **2. 完成一個完整功能模組後**
  - **目的**：歸檔當前成果，為下一個任務模組清空上下文，承先啟後。
  - **指令範例**：「用戶認證功能已完成。請總結本次修改涉及的核心檔案和主要邏輯，接下來我們將開始處理商品頁面。」

- **3. 解決一個複雜 Bug 後**
  - **目的**：記錄經驗教訓，將除錯過程中的嘗試、失敗與最終方案轉化為知識，避免未來再犯。
  - **指令範例**：「這個 Bug 總算解決了。請總結一下問題的根本原因、我們嘗試過的無效方法，以及最終的修復方案，以便記錄。」

- **4. 準備暫停或切換任務前**
  - **目的**：建立一個清晰的「中斷點」，以便稍後能快速回到當前進度，無縫銜接。
  - **指令範例**：「我需要先去開會。請總結我們目前的進度、已完成的部分和接下來的待辦事項。」

---

## 二、反應式策略：基於「AI 行為」的觀察與校準

當您觀察到 AI 的行為出現「遺忘」的症狀時，應立即要求總結以進行「校準」。

- **1. AI 開始詢問已提供過的資訊**
  - **信號**：AI 開始「健忘」，詢問已確定的決策（例如：資料庫類型、變數命名風格等）。
  - **應對**：要求 AI 回顧並總結相關的決策，以刷新其上下文。

- **2. AI 提出的方案與先前決策相悖**
  - **信號**：AI 的建議與既定計畫或方向不符。
  - **應對**：強制 AI 重新對焦，要求其總結最初的計畫與當前目標。

- **3. AI 的回應相關性下降**
  - **信號**：AI 的回答開始偏離當前正在解決的核心問題，變得「發散」。
  - **應對**：要求 AI 總結當前最重要的目標和正在處理的具體子任務，將其拉回主題。

---

## 快速參考指南

| 策略類型 | 時機點 (Trigger Point) | 目的 | 
| :--- | :--- | :--- |
| **主動式** | 規劃結束，實作開始前 | 鞏固目標 |
| (Proactive) | 完成一個功能模組後 | 歸檔成果，承先啟後 |
| | 解決一個複雜 Bug 後 | 記錄經驗，避免再犯 |
| | 準備中斷或結束工作時 | 建立存檔點 (Save Point) |
| **反應式** | AI 開始「健忘」 | 刷新上下文，糾正偏差 |
| (Reactive) | AI 提議與決策相悖 | 強制重新對焦 |
| | AI 回應相關性下降 | 拉回主題 |

## 最終建議

最高效的工作流程是：以**「主動式策略」**為主，有節奏地在任務里程碑上進行總結。同時，將**「反應式策略」**作為保險，一旦觀察到 AI 行為異常，立即進行校準。這種主動與被動相結合的方式，能最大化地保障您與 AI 在長任務中的協作效率與準確性。
