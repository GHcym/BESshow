# AWS-Deploy æ­¥é©Ÿ 4ï¼šæª”æ¡ˆå‚³è¼¸

## å…·é«”æ“ä½œæŒ‡ä»¤
ä¸Šå‚³ BESshow å°ˆæ¡ˆæª”æ¡ˆåˆ° EC2 å¯¦ä¾‹ï¼Œæº–å‚™éƒ¨ç½²ç’°å¢ƒ

## è¼¸å…¥åƒæ•¸èˆ‡èªªæ˜
- ç›®æ¨™ä¼ºæœå™¨ï¼š43.198.12.223
- SSH é‡‘é‘°ï¼š/home/ksu/bess/besshow/.key/besshow-key.pem
- å‚³è¼¸æ–¹å¼ï¼šrsync (æ’é™¤ä¸å¿…è¦æª”æ¡ˆ)
- ç›®æ¨™ç›®éŒ„ï¼š/home/ubuntu/besshow

## è¼¸å‡ºçµæœèˆ‡èªªæ˜
- æ‰€æœ‰å°ˆæ¡ˆæª”æ¡ˆå·²æˆåŠŸä¸Šå‚³åˆ° EC2 å¯¦ä¾‹
- æ¸¬è©¦ç’°å¢ƒ Docker é…ç½®æª”æ¡ˆå·²å°±ç·’
- éƒ¨ç½²è…³æœ¬å…·å‚™åŸ·è¡Œæ¬Šé™
- ä¸‹ä¸€æ­¥ï¼šå¯ä»¥é–‹å§‹åœ¨ EC2 ä¸Šå®‰è£ Docker ä¸¦å•Ÿå‹•æœå‹™

ğŸ“ **å‚³è¼¸çµæœè¨˜éŒ„**ï¼š
- å‚³è¼¸æª”æ¡ˆæ•¸ï¼š173 å€‹
- ç¸½å¤§å°ï¼š12.6MB
- å‚³è¼¸é€Ÿåº¦ï¼š3.14MB/s
- æ’é™¤ç›®éŒ„ï¼š_dev_logs, __pycache__, .git, media, .venv, node_modules

## åŸ·è¡Œæ­¥é©Ÿ

### 4.1 æ¸¬è©¦ SSH é€£ç·š
```bash
$ ssh -i .key/besshow-key.pem -o ConnectTimeout=10 ubuntu@43.198.12.223 "echo 'SSH connection successful'"
SSH connection successful
```
âœ… SSH é€£ç·šæ¸¬è©¦æˆåŠŸ
- å¯æ­£å¸¸é€£æ¥åˆ° EC2 å¯¦ä¾‹

### 4.2 å»ºç«‹ç›®æ¨™ç›®éŒ„
```bash
$ ssh -i .key/besshow-key.pem ubuntu@43.198.12.223 "mkdir -p /home/ubuntu/besshow"
```
âœ… ç›®æ¨™ç›®éŒ„å»ºç«‹æˆåŠŸ
- ç›®éŒ„ï¼š/home/ubuntu/besshow

### 4.3 ä½¿ç”¨ rsync å‚³è¼¸æª”æ¡ˆ
```bash
$ rsync -avz --progress -e "ssh -i besshow/.key/besshow-key.pem" --exclude='_dev_logs' --exclude='__pycache__' --exclude='.git' --exclude='media' --exclude='.venv' --exclude='node_modules' besshow/ ubuntu@43.198.12.223:/home/ubuntu/besshow/
# å‚³è¼¸ 173 å€‹æª”æ¡ˆï¼Œç¸½å¤§å° 12.6MB
# é€Ÿåº¦ï¼š3.14MB/s
```
âœ… æª”æ¡ˆå‚³è¼¸æˆåŠŸ
- å‚³è¼¸æª”æ¡ˆæ•¸ï¼š173 å€‹
- ç¸½å¤§å°ï¼š12.6MB
- æ’é™¤ä¸å¿…è¦æª”æ¡ˆï¼š_dev_logs, __pycache__, .git, media, .venv

### 4.4 é©—è­‰å‚³è¼¸çµæœ
```bash
$ ssh -i .key/besshow-key.pem ubuntu@43.198.12.223 "ls -la /home/ubuntu/besshow/ | head -10"
# é¡¯ç¤ºæª”æ¡ˆæ¸…å–®ï¼Œç¢ºèªå‚³è¼¸æˆåŠŸ

$ ssh -i .key/besshow-key.pem ubuntu@43.198.12.223 "ls -la /home/ubuntu/besshow/docker-compose.staging.yml /home/ubuntu/besshow/.env.staging /home/ubuntu/besshow/scripts/deploy-staging.sh"
-rw-r--r-- 1 ubuntu ubuntu 165 Sep 12 09:52 /home/ubuntu/besshow/.env.staging
-rw-r--r-- 1 ubuntu ubuntu 666 Sep 12 09:52 /home/ubuntu/besshow/docker-compose.staging.yml
-rwxr-xr-x 1 ubuntu ubuntu 762 Sep 12 09:52 /home/ubuntu/besshow/scripts/deploy-staging.sh
```
âœ… é‡è¦æª”æ¡ˆé©—è­‰æˆåŠŸ
- Docker Compose æ¸¬è©¦é…ç½®æª”æ¡ˆå·²ä¸Šå‚³
- ç’°å¢ƒè®Šæ•¸æª”æ¡ˆå·²ä¸Šå‚³
- éƒ¨ç½²è…³æœ¬å·²ä¸Šå‚³ä¸”å…·å‚™åŸ·è¡Œæ¬Šé™