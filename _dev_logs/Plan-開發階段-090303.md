# 開發計畫：開發階段-090303 - 使用者點燈與結帳流程

## 1. 任務範疇 (Task Scope)

本次任務目標是建立完整的使用者點燈流程，從選擇燈種、加入祈福清單（購物車），到最終結帳。

## 2. 執行方法 (Method)

將依序開發下列功能模組：

1.  **燈種列表顯示**:
    *   **應用**: `products`
    *   **目標**: 建立一個公開頁面，展示所有可供選擇的燈種及其價格。
    *   **實作**: 在 `products/views.py` 中建立列表視圖，並在 `products/templates/products/` 中建立對應的模板。每個燈種旁需有「加入祈福清單」的按鈕。

2.  **加入祈福清單 (購物車) 功能**:
    *   **應用**: `cart`
    *   **目標**: 實作將特定燈種與數量加入 Session 型購物車的功能。
    *   **實作**: 在 `cart/views.py` 中建立 `cart_add` 視圖，處理加入購物車的邏輯，並在 `cart/urls.py` 中設定對應的 URL。

3.  **祈福清單 (購物車) 詳情頁**:
    *   **應用**: `cart`
    *   **目標**: 建立一個頁面，顯示購物車內所有項目、數量、單價與總計。
    *   **實作**: 在 `cart/views.py` 中建立 `cart_detail` 視圖，並在 `cart/templates/cart/` 中建立 `detail.html` 模板。頁面中需包含「前往結帳」按鈕。

4.  **結帳流程串接**:
    *   **應用**: `orders`, `accounts`
    *   **目標**: 引導使用者在結帳前確認或完善個人資料。
    *   **實作**: 建立一個需要登入才能存取的 `orders/views.py:checkout` 視圖。此視圖會將使用者重導向至 `accounts` 應用已存在的 `user_profile_update` 視圖，並附帶 `?next=payment` 參數。

5.  **付款頁面**:
    *   **應用**: `orders`
    *   **目標**: 顯示最終訂單摘要與付款資訊（QR Code）。
    *   **實作**: 建立 `orders/views.py:payment_page` 視圖，使用者在完成個人資料確認後會被導向此處。此頁面將顯示訂單詳情和一個用於付款的 QR Code 預留位置圖片。

## 3. 預期成果 (Expected Outcome)

- 使用者能從燈種列表將項目加入購物車。
- 使用者能查看購物車內容並啟動結帳流程。
- 系統能正確引導使用者登入並完善個人資料。
- 最終向使用者呈現包含 QR Code 的付款頁面。
