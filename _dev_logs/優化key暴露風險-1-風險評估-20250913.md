# 優化key暴露風險 步驟 1：風險評估

## 具體操作指令
檢查當前 Git 倉庫中私鑰檔案的暴露狀況，評估安全風險等級。

## 輸入參數與說明
- 目標檔案：`.key/besshow-key.pem`
- 檢查範圍：Git 歷史記錄、當前工作目錄
- 風險類型：RSA Private Key 暴露

## 執行步驟

### 1.1 檢查檔案是否存在
```bash
$ ls -la .key/besshow-key.pem
-r-------- 1 ksu ksu 1675 Sep 12 17:38 .key/besshow-key.pem
```
✅ 檔案存在，權限設定為只讀（600）

### 1.2 檢查 Git 追蹤狀態
```bash
$ git ls-files .key/besshow-key.pem
.key/besshow-key.pem
```
❌ **高風險**：私鑰檔案已被 Git 追蹤

### 1.3 檢查 Git 歷史記錄
```bash
$ git log --oneline --follow .key/besshow-key.pem
1e89036 Deploy to EC2 for Test via Amazon Q
```
❌ **嚴重風險**：私鑰已提交到 Git 歷史記錄

## 輸出結果與說明

### 風險評估結果
- **風險等級**：🔴 **嚴重**
- **暴露範圍**：Git 歷史記錄 + 當前工作目錄
- **影響程度**：RSA 私鑰完全暴露
- **提交記錄**：1e89036 (Deploy to EC2 for Test via Amazon Q)

### 必要行動
1. 立即從 Git 歷史中移除私鑰檔案
2. 重新生成新的金鑰對
3. 建立防護機制避免未來暴露
4. 檢查是否已推送到遠端倉庫